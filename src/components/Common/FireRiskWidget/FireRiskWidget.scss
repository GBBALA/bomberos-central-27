@import '../../../styles/variables';

.risk-widget-container {
  background: white;
  padding: 1.5rem;
  border-radius: 20px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.08);
  text-align: center;
  max-width: 450px;
  margin: 0 auto;
  font-family: 'Arial', sans-serif;

  h3 {
    text-transform: uppercase;
    color: #ce1126;
    font-weight: 900;
    font-size: 1.5rem;
    margin-bottom: 2rem;
    letter-spacing: 1px;
  }
}

/* --- EL CONTENEDOR MÁSCARA (Recorta la mitad de abajo) --- */
.gauge-mask {
  width: 300px;
  height: 150px; /* Exactamente la mitad del ancho */
  margin: 0 auto;
  position: relative;
  overflow: hidden; /* Esto es lo que corta el círculo */
}

/* --- EL CÍRCULO COMPLETO CON EL DEGRADADO --- */
.gauge-body {
  width: 300px;
  height: 300px; /* Círculo perfecto */
  border-radius: 50%;
  box-sizing: border-box;
  
  /* 
     Lógica: Empezamos a las 9 en punto (270deg).
     Total arco visible: 180deg.
     5 secciones -> 36deg cada una.
  */
  background: conic-gradient(from 270deg, 
    #00a651 0deg 36deg,    /* Verde */
    #003399 36deg 72deg,   /* Azul */
    #fff200 72deg 108deg,  /* Amarillo */
    #f7941d 108deg 144deg, /* Naranja */
    #ed1c24 144deg 180deg, /* Rojo */
    transparent 180deg     /* La mitad de abajo transparente */
  );
}

/* --- LA AGUJA --- */
.gauge-needle {
  width: 6px;
  height: 130px; /* Largo de la aguja */
  background: #222;
  position: absolute;
  
  /* Posicionamiento: El 'bottom' de la aguja debe estar en el 'bottom' de la máscara */
  bottom: 0; 
  left: 50%;
  margin-left: -3px; /* Centrado */
  
  /* Forma de punta */
  border-radius: 50% 50% 0 0;
  
  /* Pivote en la base */
  transform-origin: bottom center;
  transition: transform 0.8s cubic-bezier(0.4, 2.5, 0.5, 0.7); /* Rebote */
  z-index: 10;
}

/* --- PUNTO CENTRAL (Tapa la base de la aguja) --- */
.gauge-center-point {
  width: 24px;
  height: 12px; /* Semicírculo */
  background: #222;
  border-radius: 24px 24px 0 0;
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  z-index: 20;
}

/* --- TEXTOS Y CONTROLES --- */
.status-text {
  font-size: 2.5rem;
  font-weight: 900;
  text-transform: uppercase;
  margin-top: 1rem;
  text-shadow: 1px 1px 0px rgba(0,0,0,0.1);

  &.Bajo { color: #00a651; }
  &.Moderado { color: #003399; }
  &.Alto { color: #d4c600; } 
  &.Muy_Alto { color: #f7941d; }
  &.Extremo { color: #ed1c24; }
}

.risk-description {
  color: #666;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 0.5rem;
  margin-bottom: 1.5rem;
}

.admin-panel {
  background-color: #f8f9fa;
  border-radius: 12px;
  padding: 10px;
  border: 1px solid #ddd;
  margin-top: 10px;

  h4 {
    font-size: 0.7rem;
    color: #999;
    margin-bottom: 8px;
    text-transform: uppercase;
  }

  .btn-container { display: flex; gap: 5px; }

  button {
    flex: 1;
    padding: 8px 0;
    font-size: 0.7rem;
    font-weight: bold;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    opacity: 0.4;
    transition: 0.2s;

    &:hover { opacity: 0.8; }
    &.active { opacity: 1; transform: scale(1.05); box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
  }
}